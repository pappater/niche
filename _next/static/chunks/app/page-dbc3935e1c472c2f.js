(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1104:function(e,t,s){Promise.resolve().then(s.bind(s,5676))},5676:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(7437),r=s(2265),a=s(6648);function n(e){let{quote:t}=e,[s,n]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"bg-white overflow-hidden",children:[!s&&(0,l.jsx)("div",{className:"relative w-full h-[50vh]",children:(0,l.jsx)(a.default,{src:t.image,alt:t.author,layout:"fill",objectFit:"cover",quality:75,placeholder:"blur",blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN8/+F9PQAJoAMyzly8qgAAAABJRU5ErkJggg==",onError:()=>n(!0)})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("p",{className:"text-xs mb-2 text-neutral-800",children:t.quote}),(0,l.jsxs)("p",{className:"text-xs text-neutral-800",children:["- ",t.author]})]})]})}let i=e=>{let t=new Set;return e.filter(e=>{let s=t.has(e.quote);return t.add(e.quote),!s})};function u(e){let{quotes:t}=e,s=i(t);return(0,l.jsx)("div",{className:"masonry",children:s.map((e,t)=>(0,l.jsx)("div",{className:"animate-fade-in",children:(0,l.jsx)(n,{quote:e})},t))})}function c(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[n,i]=(0,r.useState)(1),[c,o]=(0,r.useState)(!0),[d,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(null),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{h(!0),m(null);try{let e=await fetch("/quotes.json");if(!e.ok)throw Error("Failed to load quotes.json");let s=await e.json(),l=Array.isArray(s)?s.flat():[],r=function(e){let t=[...e];for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}(l);t(r),a(r.slice(0,10)),o(r.length>10),i(2)}catch(e){m("Failed to load quotes. Please try again later.")}finally{h(!1)}})()},[]);let A=(0,r.useCallback)(()=>{!d&&c&&(h(!0),setTimeout(()=>{let t=(n-1)*10,s=t+10,l=e.slice(t,s);a(e=>{let t=new Set(e.map(e=>e.quote));return[...e,...l.filter(e=>!t.has(e.quote))]}),o(s<e.length),i(e=>e+1),h(!1)},400))},[d,c,n,e]),j=(0,r.useCallback)(t=>{t[0].isIntersecting&&c&&!d&&e.length>0&&A()},[d,c,e,A]);return(0,r.useEffect)(()=>{let e=new IntersectionObserver(j,{threshold:1});return x.current&&e.observe(x.current),()=>{x.current&&e.unobserve(x.current)}},[j]),(0,l.jsx)("div",{className:"min-h-screen bg-white  transition-colors duration-200",children:(0,l.jsxs)("div",{className:"container mx-auto p-2 lg:px-[7em] py-7",children:[(0,l.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 ",children:"Niche //"})}),f&&(0,l.jsx)("p",{className:"text-red-500 mb-4",children:f}),(0,l.jsx)(u,{quotes:s}),d&&(0,l.jsx)("div",{className:"flex justify-center mt-4",children:(0,l.jsx)("span",{className:"inline-block w-6 h-6 border-2 border-gray-300 border-t-gray-900 rounded-full animate-spin"})}),(0,l.jsx)("div",{ref:x,className:"h-1"})]})})}}},function(e){e.O(0,[648,971,23,744],function(){return e(e.s=1104)}),_N_E=e.O()}]);